---
title: "P8105 HW2"
author: "Hansheng Zhang"
date: 2021-10-07
output: github_document
---

```{r setup}
library(tidyverse)
library(readxl)
```

# Problem 1

Mr. Trash Wheel - Read and clean Mr. Trash Wheel dataset

``` {r}
trashwheel_df = read_excel("./Data/Trash-Wheel-Collection-Totals-7-2020-2.xlsx", sheet = "Mr. Trash Wheel", range = "A2:N535") %>% # omit header
  janitor::clean_names() %>% 
  drop_na("dumpster") %>% 
  mutate(sports_balls = as.integer( #convert to integer vector
    round(sports_balls, digits = 0)))
```
The following code imports the excel sheets named "2018 Precipitation" and "2019 Precipitation". 

```{r}
precip_2018 =
  read_excel("./data/Trash-Wheel-Collection-Totals-7-2020-2.xlsx", sheet = "2018 Precipitation", range = "A2:B15") %>%
  janitor::clean_names() %>% 
  mutate(year = "2018")

precip_2019 =
  read_excel("./data/Trash-Wheel-Collection-Totals-7-2020-2.xlsx", sheet = "2019 Precipitation", range = "A2:B15") %>%
  janitor::clean_names() %>% 
  mutate(year = "2019")
```

Combining `precip_2018` and `precip_2019` tibbles into one and mutating the `month` vector from a `dbl` to a `chr`.

```{r}
precip_2018_2019 =
    bind_rows(precip_2018, precip_2019) %>% 
    mutate(month = month.name[month])
```

After reading and cleaning the Mr. Trash Wheel dataset, the total number of observations is now `r nrow(trashwheel_df)`. There are `r ncol(trashwheel_df)` variables in the cleaned Mr. Trash Wheel data. Key variables in the Mr. Trash Wheel data are dumpster, month, year, and sports balls. 

The number of observations in the combined precipitation data set is `r nrow(precip_2018_2019)`. There are `r ncol(precip_2018_2019)` variables in the combined precipitation data set, which are `r names(precip_2018_2019)`.

The total precipitation in the year 2018 was `r sum(pull(filter(precip_2018_2019, year == 2018), total))`.

The median number of sports balls in a dumpster in 2019 was `r median(pull(filter(trashwheel_df, year == 2019), sports_balls))`. 
